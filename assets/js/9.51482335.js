(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{442:function(s,a,n){"use strict";n.r(a);var e=n(24),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"配置docker-代理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置docker-代理"}},[s._v("#")]),s._v(" 配置docker 代理")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/docker/daemon.json\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry-mirrors"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://ih6ib4yz.mirror.aliyuncs.com"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart docker\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"安装docker-centos7-112"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-centos7-112"}},[s._v("#")]),s._v(" 安装docker: CentOS7 112")]),s._v(" "),n("p",[s._v("1、若您安装过"),n("strong",[s._v("docker")]),s._v("，需要先删掉，之后再安装依赖:")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum remove docker docker-common docker-selinux docker-engine\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y yum-utils device-mapper-persistent-data lvm2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("2、根据版本不同，下载repo文件。您使用的发行版：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -O /etc/yum.repos.d/docker-ce.repo https://repo.huaweicloud.com/docker-ce/linux/centos/docker-ce.repo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("软件仓库地址替换为：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s+download.docker.com+repo.huaweicloud.com/docker-ce+'")]),s._v(" /etc/yum.repos.d/docker-ce.repo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("3、更新索引文件并安装")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum makecache fast\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-ce\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动docker")]),s._v("\nsystemctl start docker\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"安装docker-compose"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[s._v("#")]),s._v(" 安装docker-compose")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将可执行权限应用于二进制文件：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建软链：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#测试是否安装成功：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#上传 docker-compose 文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /home/docker-compose\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /home/docker-compose /usr/bin/docker-compose\n\n\ndocker-compose --version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"具体步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#具体步骤"}},[s._v("#")]),s._v(" 具体步骤")]),s._v(" "),n("p",[s._v("​")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改变设置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使之立即生效")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建并改变该目录权限")]),s._v("\n\nsysctl -w vm.max_map_count"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("262144")]),s._v("\nsysctl -p\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /opt/elasticsearch/data/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /opt/elasticsearch/data\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("修改Logstash的配置文件logstash.conf中output节点下的Elasticsearch连接地址为es:9200。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mkdir /opt/logstash\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language-dockerfile line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#logstash.conf文件内容")]),s._v('\ninput {\n  tcp {\n    mode => "server"\n    host => "0.0.0.0"\n    port => 4560\n    codec => json_lines\n    type => "debug"\n  }\n  tcp {\n    mode => "server"\n    host => "0.0.0.0"\n    port => 4561\n    codec => json_lines\n    type => "error"\n  }\n  tcp {\n    mode => "server"\n    host => "0.0.0.0"\n    port => 4562\n    codec => json_lines\n    type => "business"\n  }\n  tcp {\n    mode => "server"\n    host => "0.0.0.0"\n    port => 4563\n    codec => json_lines\n    type => "record"\n  }\n}\nfilter{\n  if [type] == "record" {\n    mutate {\n      remove_field => "port"\n      remove_field => "host"\n      remove_field => "@version"\n    }\n    json {\n      source => "message"\n      remove_field => ["message"]\n    }\n  }\n}\noutput {\n  elasticsearch {\n    hosts => "es:9200"\n    index => "mall-%{type}-%{+YYYY.MM.dd}"\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br")])]),n("p",[s._v("新建 docker-compose-env.yml 文件")]),s._v(" "),n("div",{staticClass:"language-dockerfile line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[n("code",[s._v('version: \'3\'\nservices:\n\n  elasticsearch:\n    image: elasticsearch:7.6.2\n    container_name: elasticsearch\n    environment:\n      - "cluster.name=elasticsearch" #设置集群名称为elasticsearch\n      - "discovery.type=single-node" #以单一节点模式启动\n      - "ES_JAVA_OPTS=-Xms256m -Xmx256m" #设置使用jvm内存大小\n    volumes:\n      - /opt/elasticsearch/plugins:/usr/share/elasticsearch/plugins #插件文件挂载\n      - /opt/elasticsearch/data:/usr/share/elasticsearch/data #数据文件挂载\n    ports:\n      - 9200:9200\n      - 9300:9300\n  logstash:\n    image: logstash:7.6.2\n    container_name: logstash\n    environment:\n      - TZ=Asia/Shanghai\n    volumes:\n      - /opt/logstash/logstash.conf:/usr/share/logstash/pipeline/logstash.conf #挂载logstash的配置文件\n    depends_on:\n      - elasticsearch #kibana在elasticsearch启动之后再启动\n    links:\n      - elasticsearch:es #可以用es这个域名访问elasticsearch服务\n    ports:\n      - 4560:4560\n      - 4561:4561\n      - 4562:4562\n      - 4563:4563\n  kibana:\n    image: kibana:7.6.2\n    container_name: kibana\n    links:\n      - elasticsearch:es #可以用es这个域名访问elasticsearch服务\n    depends_on:\n      - elasticsearch #kibana在elasticsearch启动之后再启动\n    environment:\n      - "elasticsearch.hosts=http://es:9200" #设置访问elasticsearch的地址\n    ports:\n      - 5601:5601\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br")])]),n("p",[s._v("执行命令")]),s._v(" "),n("div",{staticClass:"language-dockerfile line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[n("code",[s._v(" docker-compose -f docker-compose-env.yml up -d\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"elasticsearch需要安装中文分词器ikanalyzer-并重新启动。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch需要安装中文分词器ikanalyzer-并重新启动。"}},[s._v("#")]),s._v(" elasticsearch需要安装中文分词器IKAnalyzer，并重新启动。")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("docker "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it elasticsearch /bin/bash\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#此命令需要在容器中运行")]),s._v("\nelasticsearch-plugin "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.6.2/elasticsearch-analysis-ik-7.6.2.zip\ndocker restart elasticsearch\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#elasticsearch-sql")]),s._v("\nelasticsearch-plugin "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" https://github.com/NLPchina/elasticsearch-sql/releases/download/7.6.2.0/elasticsearch-sql-7.6.2.0.zip\n\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"logstash-需要安装json-lines插件-并重新启动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#logstash-需要安装json-lines插件-并重新启动"}},[s._v("#")]),s._v(" logstash 需要安装"),n("code",[s._v("json_lines")]),s._v("插件，并重新启动")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("docker "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it logstash /bin/bash\nlogstash-plugin "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" logstash-codec-json_lines\ndocker restart logstash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"青龙面板更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#青龙面板更新"}},[s._v("#")]),s._v(" 青龙面板更新")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("docker "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it qinglong /bin/bash\nql repo https://github.com/atyvcn/jd_scripts.git "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jd_|jx_|getJDCookie"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"backUp|icon"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^jd[^_]|USER|sendNotify|sign_graphics_validate|JDJR|JDSign"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v("\n\nql repo https://github.com/zero205/JD_tencent_scf.git "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jd_|jx_|getJDCookie"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"backUp|icon"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^jd[^_]|USER|sendNotify|sign_graphics_validate|JDJR|JDSign"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v("\n\nhttps://gh.fakev.cn/KingRan/KR.git\n docker-compose  up -d\n \n 【青龙】拉取仓库命令：ql repo https://github.com/atyvcn/jd_scripts.git "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jd_|jx_|ty_|CheckRpeat"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"backUp|icon"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^jd[^_]|^JD|USER|sendNotify|sign_graphics_validate"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v("\n\n上面命令拉取错误的使用这个：ql repo https://ghproxy.com/https://github.com/atyvcn/jd_scripts.git "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jd_|jx_|ty_|CheckRpeat"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"backUp|icon"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^jd[^_]|^JD|USER|sendNotify|sign_graphics_validate"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##")]),s._v("\nql repo https://gh.fakev.cn/KingRan/KR.git "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jd_|jx_|getJDCookie"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"backUp|icon"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^jd[^_]|USER|sendNotify|sign_graphics_validate|JDJR|JDSign"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v("\n\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("h2",{attrs:{id:"zerotier-docker搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#zerotier-docker搭建"}},[s._v("#")]),s._v(" zerotier docker搭建")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### date:2021年11月29日")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### author: www.mrdoc.fun | jonnyan404")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 转载请保留来源")]),s._v("\nversion: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2.0'")]),s._v("\nservices:\n    ztncui:\n        container_name: ztncui\n        restart: always\n        environment:\n            - "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYADDR")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vivid1234.f3322.net "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#公网ip")]),s._v("\n            - "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTP_PORT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),s._v("\n            - "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTP_ALL_INTERFACES")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yes\n            - "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ZTNCUI_PASSWD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mrdoc.fun\n        ports:\n            - "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'4000:4000'")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# - '3180:3180'具体参考GitHub项目说明")]),s._v("\n        image: keynetworks/ztncui\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);